\doxysection{C\+:/\+Users/\+P/\+Documents/\+Projeto\+\_\+\+Comedouro\+\_\+\+PIPE/comeint-\/fw/feeder-\/fw/components/app\+\_\+status/app\+\_\+status.c File Reference}
\hypertarget{app__status_8c}{}\label{app__status_8c}\index{C:/Users/P/Documents/Projeto\_Comedouro\_PIPE/comeint-\/fw/feeder-\/fw/components/app\_status/app\_status.c@{C:/Users/P/Documents/Projeto\_Comedouro\_PIPE/comeint-\/fw/feeder-\/fw/components/app\_status/app\_status.c}}


Contains code to manage product statuses.  


{\ttfamily \#include "{}esp\+\_\+log.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+err.\+h"{}}\newline
{\ttfamily \#include "{}freertos/\+Free\+RTOS.\+h"{}}\newline
{\ttfamily \#include "{}freertos/task.\+h"{}}\newline
{\ttfamily \#include "{}app\+\_\+status.\+h"{}}\newline
{\ttfamily \#include "{}app\+\_\+gpio.\+h"{}}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structapp__status__t}{app\+\_\+status\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{app__status_8c_a5155a7b7465dd9b5e6167122827d0158}\label{app__status_8c_a5155a7b7465dd9b5e6167122827d0158} 
\#define {\bfseries LOG\+\_\+\+LOCAL\+\_\+\+LEVEL}~ESP\+\_\+\+LOG\+\_\+\+NONE
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{app__status_8c_a87d5bb615e8e1aaca94d84b51715e49a}{app\+\_\+status\+\_\+\+\_\+check\+\_\+status\+\_\+task}} (void \texorpdfstring{$\ast$}{*}arg)
\begin{DoxyCompactList}\small\item\em Task to keep checking the statuses. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{app__status_8c_aa430e6e1113a70ab21a22c4d22d7c92f}{app\+\_\+status\+\_\+\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Initialize app\+\_\+status component by creating a task to check the relevant statuses. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{app__status_8c_a2c153ff6b98d30cc75799f15022b5d72}{app\+\_\+status\+\_\+\+\_\+set\+\_\+battery\+\_\+low\+\_\+status}} (uint8\+\_\+t battery\+\_\+low)
\begin{DoxyCompactList}\small\item\em Set status of low battery. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{app__status_8c_a986554e63fb939ab8d49bc14e8b98bee}{app\+\_\+status\+\_\+\+\_\+set\+\_\+beacon\+\_\+battery\+\_\+low\+\_\+status}} (uint8\+\_\+t beacon\+\_\+battery\+\_\+low)
\begin{DoxyCompactList}\small\item\em Set status of beacon low battery. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{app__status_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}\label{app__status_8c_a5a85b9c772bbeb480b209a3e6ea92b4c} 
static const char \texorpdfstring{$\ast$}{*} {\bfseries TAG} = "{}app\+\_\+status"{}
\begin{DoxyCompactList}\small\item\em Tag to be used when logging. \end{DoxyCompactList}\item 
\Hypertarget{app__status_8c_a30c2aaa306e3d77cd88133f8712a8324}\label{app__status_8c_a30c2aaa306e3d77cd88133f8712a8324} 
static Task\+Handle\+\_\+t {\bfseries app\+\_\+status\+\_\+\+\_\+check\+\_\+status\+\_\+task\+\_\+handle} = NULL
\begin{DoxyCompactList}\small\item\em Statuses check task. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structapp__status__t}{app\+\_\+status\+\_\+t}} \mbox{\hyperlink{app__status_8c_a4d45979a4886aeba76b87c4dc675b54a}{app\+\_\+status}}
\begin{DoxyCompactList}\small\item\em General product statuses. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Contains code to manage product statuses. 

\begin{DoxyAuthor}{Author}
Henrique Sander LourenÃ§o (\href{mailto:henriquesander27@gmail.com}{\texttt{ henriquesander27@gmail.\+com}}) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/03-\/23
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2024 Pet\+Dog
\end{DoxyCopyright}
Copyright 2024 Pet\+Dog

Licensed under the Apache License, Version 2.\+0 (the "{}\+License"{}); you may not use this file except in compliance with the License. You may obtain a copy of the License at \begin{DoxyVerb}http://www.apache.org/licenses/LICENSE-2.0
\end{DoxyVerb}
 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "{}\+AS IS"{} BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\textquotesingle{} See the License for the specific language governing permissions and limitations under the License. 

\doxysubsection{Function Documentation}
\Hypertarget{app__status_8c_a87d5bb615e8e1aaca94d84b51715e49a}\label{app__status_8c_a87d5bb615e8e1aaca94d84b51715e49a} 
\index{app\_status.c@{app\_status.c}!app\_status\_\_check\_status\_task@{app\_status\_\_check\_status\_task}}
\index{app\_status\_\_check\_status\_task@{app\_status\_\_check\_status\_task}!app\_status.c@{app\_status.c}}
\doxysubsubsection{\texorpdfstring{app\_status\_\_check\_status\_task()}{app\_status\_\_check\_status\_task()}}
{\footnotesize\ttfamily static void app\+\_\+status\+\_\+\+\_\+check\+\_\+status\+\_\+task (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Task to keep checking the statuses. 


\begin{DoxyParams}{Parameters}
{\em arg} & Optional arguments (not being used). \\
\hline
\end{DoxyParams}
\Hypertarget{app__status_8c_aa430e6e1113a70ab21a22c4d22d7c92f}\label{app__status_8c_aa430e6e1113a70ab21a22c4d22d7c92f} 
\index{app\_status.c@{app\_status.c}!app\_status\_\_init@{app\_status\_\_init}}
\index{app\_status\_\_init@{app\_status\_\_init}!app\_status.c@{app\_status.c}}
\doxysubsubsection{\texorpdfstring{app\_status\_\_init()}{app\_status\_\_init()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t app\+\_\+status\+\_\+\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initialize app\+\_\+status component by creating a task to check the relevant statuses. 

\begin{DoxyReturn}{Returns}
esp\+\_\+err\+\_\+t 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em ESP\+\_\+\+OK} & if app\+\_\+status is successfully initialized. \\
\hline
{\em ESP\+\_\+\+FAIL} & otherwise. \\
\hline
\end{DoxyRetVals}
\Hypertarget{app__status_8c_a2c153ff6b98d30cc75799f15022b5d72}\label{app__status_8c_a2c153ff6b98d30cc75799f15022b5d72} 
\index{app\_status.c@{app\_status.c}!app\_status\_\_set\_battery\_low\_status@{app\_status\_\_set\_battery\_low\_status}}
\index{app\_status\_\_set\_battery\_low\_status@{app\_status\_\_set\_battery\_low\_status}!app\_status.c@{app\_status.c}}
\doxysubsubsection{\texorpdfstring{app\_status\_\_set\_battery\_low\_status()}{app\_status\_\_set\_battery\_low\_status()}}
{\footnotesize\ttfamily void app\+\_\+status\+\_\+\+\_\+set\+\_\+battery\+\_\+low\+\_\+status (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{battery\+\_\+low }\end{DoxyParamCaption})}



Set status of low battery. 


\begin{DoxyParams}{Parameters}
{\em battery\+\_\+low} & If \texorpdfstring{$>$}{>} 0, set low battery status to 1, otherwise set it to 0. \\
\hline
\end{DoxyParams}
\Hypertarget{app__status_8c_a986554e63fb939ab8d49bc14e8b98bee}\label{app__status_8c_a986554e63fb939ab8d49bc14e8b98bee} 
\index{app\_status.c@{app\_status.c}!app\_status\_\_set\_beacon\_battery\_low\_status@{app\_status\_\_set\_beacon\_battery\_low\_status}}
\index{app\_status\_\_set\_beacon\_battery\_low\_status@{app\_status\_\_set\_beacon\_battery\_low\_status}!app\_status.c@{app\_status.c}}
\doxysubsubsection{\texorpdfstring{app\_status\_\_set\_beacon\_battery\_low\_status()}{app\_status\_\_set\_beacon\_battery\_low\_status()}}
{\footnotesize\ttfamily void app\+\_\+status\+\_\+\+\_\+set\+\_\+beacon\+\_\+battery\+\_\+low\+\_\+status (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{beacon\+\_\+battery\+\_\+low }\end{DoxyParamCaption})}



Set status of beacon low battery. 


\begin{DoxyParams}{Parameters}
{\em battery\+\_\+low} & If \texorpdfstring{$>$}{>} 0, set beacon low battery status to 1, otherwise set it to 0. \\
\hline
\end{DoxyParams}


\doxysubsection{Variable Documentation}
\Hypertarget{app__status_8c_a4d45979a4886aeba76b87c4dc675b54a}\label{app__status_8c_a4d45979a4886aeba76b87c4dc675b54a} 
\index{app\_status.c@{app\_status.c}!app\_status@{app\_status}}
\index{app\_status@{app\_status}!app\_status.c@{app\_status.c}}
\doxysubsubsection{\texorpdfstring{app\_status}{app\_status}}
{\footnotesize\ttfamily \mbox{\hyperlink{structapp__status__t}{app\+\_\+status\+\_\+t}} app\+\_\+status}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ \ \ .battery\_low\ =\ 0,}
\DoxyCodeLine{\ \ \ \ .beacon\_battery\_low\ =\ 0,}
\DoxyCodeLine{\}}

\end{DoxyCode}


General product statuses. 

