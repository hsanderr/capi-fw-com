\doxysection{C\+:/\+Users/\+P/\+Documents/\+Projeto\+\_\+\+Comedouro\+\_\+\+PIPE/comeint-\/fw/feeder-\/fw/components/app\+\_\+nvs/app\+\_\+nvs.c File Reference}
\hypertarget{app__nvs_8c}{}\label{app__nvs_8c}\index{C:/Users/P/Documents/Projeto\_Comedouro\_PIPE/comeint-\/fw/feeder-\/fw/components/app\_nvs/app\_nvs.c@{C:/Users/P/Documents/Projeto\_Comedouro\_PIPE/comeint-\/fw/feeder-\/fw/components/app\_nvs/app\_nvs.c}}


Contains NVS-\/related code.  


{\ttfamily \#include "{}esp\+\_\+log.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+err.\+h"{}}\newline
{\ttfamily \#include "{}nvs\+\_\+flash.\+h"{}}\newline
{\ttfamily \#include "{}app\+\_\+nvs.\+h"{}}\newline
{\ttfamily \#include "{}app\+\_\+beacon.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{app__nvs_8c_a5155a7b7465dd9b5e6167122827d0158}\label{app__nvs_8c_a5155a7b7465dd9b5e6167122827d0158} 
\#define {\bfseries LOG\+\_\+\+LOCAL\+\_\+\+LEVEL}~ESP\+\_\+\+LOG\+\_\+\+NONE
\item 
\Hypertarget{app__nvs_8c_a321d27be58ecf11b5a04c7af279353e1}\label{app__nvs_8c_a321d27be58ecf11b5a04c7af279353e1} 
\#define {\bfseries MAIN\+\_\+\+NVS\+\_\+\+NAMESPACE}~"{}nvs\+\_\+main"{}
\begin{DoxyCompactList}\small\item\em Main NVS namespace. \end{DoxyCompactList}\item 
\Hypertarget{app__nvs_8c_a833dc0986712f7471d1e233e7e271fc5}\label{app__nvs_8c_a833dc0986712f7471d1e233e7e271fc5} 
\#define {\bfseries AUTHORIZED\+\_\+\+MAC\+\_\+\+ENTRY\+\_\+\+KEY}~"{}auth\+\_\+mac"{}
\begin{DoxyCompactList}\small\item\em Authorized MAC entry key. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{app__nvs_8c_a798dd500647ecb18eaad6925f3c50a17}{app\+\_\+nvs\+\_\+\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Initialize NVS. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{app__nvs_8c_abf9e793db26423f0d9779d421604946d}{app\+\_\+nvs\+\_\+\+\_\+get\+\_\+data}} (void)
\begin{DoxyCompactList}\small\item\em Read all relevant data from NVS. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{app__nvs_8c_aba7514c35abee6961e7283e6ba5ea4f7}{app\+\_\+nvs\+\_\+\+\_\+set\+\_\+authorized\+\_\+mac}} (uint8\+\_\+t authorized\+\_\+mac\mbox{[}6\mbox{]})
\begin{DoxyCompactList}\small\item\em Write authorized MAC to NVS. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{app__nvs_8c_ae7260ccbfa379c4c43ceff6b9b341f70}{app\+\_\+nvs\+\_\+\+\_\+get\+\_\+authorized\+\_\+mac}} (uint8\+\_\+t authorized\+\_\+mac\mbox{[}6\mbox{]})
\begin{DoxyCompactList}\small\item\em Reads authorized MAC from NVS. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{app__nvs_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}\label{app__nvs_8c_a5a85b9c772bbeb480b209a3e6ea92b4c} 
static const char \texorpdfstring{$\ast$}{*} {\bfseries TAG} = "{}app\+\_\+nvs"{}
\begin{DoxyCompactList}\small\item\em Tag to be used when logging. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Contains NVS-\/related code. 

\begin{DoxyAuthor}{Author}
Henrique Sander Louren√ßo (\href{mailto:henriquesander27@gmail.com}{\texttt{ henriquesander27@gmail.\+com}}) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/03-\/16
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2024 Pet\+Dog
\end{DoxyCopyright}
Copyright 2024 Pet\+Dog

Licensed under the Apache License, Version 2.\+0 (the "{}\+License"{}); you may not use this file except in compliance with the License. You may obtain a copy of the License at \begin{DoxyVerb}http://www.apache.org/licenses/LICENSE-2.0
\end{DoxyVerb}
 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "{}\+AS IS"{} BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 

\doxysubsection{Function Documentation}
\Hypertarget{app__nvs_8c_ae7260ccbfa379c4c43ceff6b9b341f70}\label{app__nvs_8c_ae7260ccbfa379c4c43ceff6b9b341f70} 
\index{app\_nvs.c@{app\_nvs.c}!app\_nvs\_\_get\_authorized\_mac@{app\_nvs\_\_get\_authorized\_mac}}
\index{app\_nvs\_\_get\_authorized\_mac@{app\_nvs\_\_get\_authorized\_mac}!app\_nvs.c@{app\_nvs.c}}
\doxysubsubsection{\texorpdfstring{app\_nvs\_\_get\_authorized\_mac()}{app\_nvs\_\_get\_authorized\_mac()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t app\+\_\+nvs\+\_\+\+\_\+get\+\_\+authorized\+\_\+mac (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{authorized\+\_\+mac\mbox{[}6\mbox{]} }\end{DoxyParamCaption})}



Reads authorized MAC from NVS. 


\begin{DoxyParams}{Parameters}
{\em authorized\+\_\+mac} & 6 bytes array where the authorized MAC will be stored. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
esp\+\_\+err\+\_\+t 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em ESP\+\_\+\+OK} & if authorized MAC is successfully read from NVS. \\
\hline
{\em ESP\+\_\+\+ERR\+\_\+\+NVS\+\_\+\+NOT\+\_\+\+FOUND} & if authorized MAC is not found in NVS. \\
\hline
{\em ESP\+\_\+\+FAIL} & otherwise. \\
\hline
\end{DoxyRetVals}
\Hypertarget{app__nvs_8c_abf9e793db26423f0d9779d421604946d}\label{app__nvs_8c_abf9e793db26423f0d9779d421604946d} 
\index{app\_nvs.c@{app\_nvs.c}!app\_nvs\_\_get\_data@{app\_nvs\_\_get\_data}}
\index{app\_nvs\_\_get\_data@{app\_nvs\_\_get\_data}!app\_nvs.c@{app\_nvs.c}}
\doxysubsubsection{\texorpdfstring{app\_nvs\_\_get\_data()}{app\_nvs\_\_get\_data()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t app\+\_\+nvs\+\_\+\+\_\+get\+\_\+data (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Read all relevant data from NVS. 

\begin{DoxyReturn}{Returns}
esp\+\_\+err\+\_\+t 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em ESP\+\_\+\+OK} & if data is successfully read from NVS. \\
\hline
{\em ESP\+\_\+\+ERR\+\_\+\+NOT\+\_\+\+FOUND} & if some data is not found in NVS. \\
\hline
{\em ESP\+\_\+\+FAIL} & otherwise. \\
\hline
\end{DoxyRetVals}
\Hypertarget{app__nvs_8c_a798dd500647ecb18eaad6925f3c50a17}\label{app__nvs_8c_a798dd500647ecb18eaad6925f3c50a17} 
\index{app\_nvs.c@{app\_nvs.c}!app\_nvs\_\_init@{app\_nvs\_\_init}}
\index{app\_nvs\_\_init@{app\_nvs\_\_init}!app\_nvs.c@{app\_nvs.c}}
\doxysubsubsection{\texorpdfstring{app\_nvs\_\_init()}{app\_nvs\_\_init()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t app\+\_\+nvs\+\_\+\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initialize NVS. 

\begin{DoxyReturn}{Returns}
esp\+\_\+err\+\_\+t 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em ESP\+\_\+\+OK} & if NVS is initialized successfully. \\
\hline
{\em ESP\+\_\+\+FAIL} & otherwise. \\
\hline
\end{DoxyRetVals}
\Hypertarget{app__nvs_8c_aba7514c35abee6961e7283e6ba5ea4f7}\label{app__nvs_8c_aba7514c35abee6961e7283e6ba5ea4f7} 
\index{app\_nvs.c@{app\_nvs.c}!app\_nvs\_\_set\_authorized\_mac@{app\_nvs\_\_set\_authorized\_mac}}
\index{app\_nvs\_\_set\_authorized\_mac@{app\_nvs\_\_set\_authorized\_mac}!app\_nvs.c@{app\_nvs.c}}
\doxysubsubsection{\texorpdfstring{app\_nvs\_\_set\_authorized\_mac()}{app\_nvs\_\_set\_authorized\_mac()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t app\+\_\+nvs\+\_\+\+\_\+set\+\_\+authorized\+\_\+mac (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{authorized\+\_\+mac\mbox{[}6\mbox{]} }\end{DoxyParamCaption})}



Write authorized MAC to NVS. 


\begin{DoxyParams}{Parameters}
{\em authorized\+\_\+mac} & 6 bytes array with authorized MAC to be written. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
esp\+\_\+err\+\_\+t 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em ESP\+\_\+\+OK} & if authorized MAC is sucessfully written to NVS. \\
\hline
{\em ESP\+\_\+\+FAIL} & otherwise. \\
\hline
\end{DoxyRetVals}
